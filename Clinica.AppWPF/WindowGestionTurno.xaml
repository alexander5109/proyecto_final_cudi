<Window
	x:Class="Clinica.AppWPF.WindowGestionTurno"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	Title="Alta de turno"
	Height="520"
	Width="820"
	Icon="pack://application:,,,/PublishedResources/icons/icono.png"
	WindowStartupLocation="CenterScreen"
	Padding="10">
	<Grid
		Margin="15"
		RowDefinitions="Auto, Auto, *, Auto">
		<!-- TÍTULO -->
		<TextBlock
			Text="Alta de turno"
			FontSize="28"
			FontFamily="Ringbearer"
			Foreground="#FF03050A"
			Margin="0 0 0 10" />
		<!-- FORMULARIO -->
		<Grid
			Grid.Row="1"
			Margin="0 0 0 10"
			ColumnDefinitions="Auto, 1*, Auto">
			<!-- Labels y Combos -->
			<StackPanel
				Orientation="Vertical"
				Grid.Column="0"
				Margin="0 0 20 0">
				<TextBlock
					Text="Especialidad"
					FontWeight="Bold" />
				<TextBlock
					Text="Médicos especialistas"
					FontWeight="Bold"
					Margin="0 10 0 0" />
				<TextBlock
					Text="Día semana"
					FontWeight="Bold"
					Margin="0 10 0 0" />
				<TextBlock
					Text="Hora"
					FontWeight="Bold"
					Margin="0 10 0 0" />
			</StackPanel>
			<!-- Controles principales -->
			<StackPanel
				Orientation="Vertical"
				Grid.Column="1"
				Margin="0 0 20 0">
				<ComboBox
					ItemsSource="{Binding EspecialidadesDisponibles}"
					DisplayMemberPath="Titulo"
					SelectedValuePath="Codigo"
					SelectedValue="{Binding SelectedEspecialidadUId, Mode=TwoWay}"
					Width="250" />
				<ComboBox
					ItemsSource="{Binding MedicosEspecialistas}"
					DisplayMemberPath="Nombre"
					SelectedValuePath="Id"
					SelectedValue="{Binding SelectedMedicoId, Mode=TwoWay}"
					Width="250"
					Margin="0 10 0 0" />
				<ComboBox
					ItemsSource="{Binding DiasSemana}"
					DisplayMemberPath="NombreEspañol"
					SelectedValuePath="Valor"
					SelectedValue="{Binding SelectedDiaValue, Mode=TwoWay}"
					IsEnabled="{Binding FiltroDiaEnabled}"
					Width="250"
					Margin="0 10 0 0" />
				<ComboBox
					ItemsSource="{Binding Horas}"
					SelectedValue="{Binding SelectedHora}"
					IsEnabled="{Binding FiltroHoraEnabled}"
					Width="120"
					Margin="0 10 0 0" />
			</StackPanel>
			<!-- Checkboxes a la derecha -->
			<StackPanel
				Orientation="Vertical"
				Grid.Column="2">
				<TextBlock
					Text=""
					Height="22" />
				<!-- Espaciador -->
				<CheckBox
					Content="Usar filtro día"
					IsChecked="{Binding FiltroDiaEnabled, Mode=TwoWay}"
					Margin="0 5" />
				<CheckBox
					Content="Usar filtro hora"
					IsChecked="{Binding FiltroHoraEnabled, Mode=TwoWay}"
					Margin="0 15 0 0" />
			</StackPanel>
		</Grid>
		<!-- LISTVIEW -->
		<StackPanel
			Grid.Row="2">
			<TextBlock
				Text="Disponibilidades"
				FontWeight="Bold"
				Margin="0 0 0 5" />
			<ListView
				x:Name="txtDisponibilidades"
				ItemsSource="{Binding Disponibilidades}"
				Height="260">
				<ListView.View>
					<GridView>
						<GridViewColumn
							Header="Día"
							Width="200"
							DisplayMemberBinding="{Binding DiaSemana.NombreEspañol}" />
						<GridViewColumn
							Header="Desde"
							Width="100"
							DisplayMemberBinding="{Binding FechaHoraDesde}" />
						<GridViewColumn
							Header="Hasta"
							Width="100"
							DisplayMemberBinding="{Binding FechaHoraHasta}" />
						<GridViewColumn
							Header="Médico"
							Width="200"
							DisplayMemberBinding="{Binding MedicoId}" />
					</GridView>
				</ListView.View>
			</ListView>
		</StackPanel>
		<!-- BOTONES -->
		<StackPanel
			Grid.Row="3"
			Orientation="Horizontal"
			HorizontalAlignment="Right"
			Margin="0 10 0 0">
			<Button
				Content="Cancelar"
				Width="120"
				Height="30"
				Margin="0 0 10 0"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonCancelar" />
			<Button
				Content="Reservar"
				Width="120"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonReservar" />
		</StackPanel>
	</Grid>
</Window>
