<Window
	x:Class="Clinica.AppWPF.UsuarioRecepcionista.SecretariaFormularioTurno"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	Title="Alta de turno"
	WindowStartupLocation="CenterScreen">
	<Window.Background>
		<LinearGradientBrush
			EndPoint="0.5,1"
			StartPoint="0.5,0">
			<GradientStop
				Color="Black" />
			<GradientStop
				Color="White"
				Offset="1" />
			<GradientStop
				Color="#FF9AD3E2"
				Offset="0.03" />
		</LinearGradientBrush>
	</Window.Background>
	<Grid
		Margin="25">
		<!-- Definimos filas: Título | Contenido | Botones -->
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="*" />
			<RowDefinition
				Height="Auto" />
		</Grid.RowDefinitions>
		<!-- Título -->
		<TextBlock
			Grid.Row="0"
			Text="Alta de turno"
			FontSize="50"
			FontFamily="Ringbearer"
			FontWeight="Bold"
			HorizontalAlignment="Center"
			Margin="0,0,0,25" />
		<!-- Contenido principal -->
		<Grid
			Grid.Row="1">
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="250" />
				<ColumnDefinition
					Width="Auto"
					MinWidth="381" />
				<ColumnDefinition />
			</Grid.ColumnDefinitions>
			<!-- Info paciente -->
			<StackPanel
				Margin="0,25,0,0"
				VerticalAlignment="Top"
				HorizontalAlignment="Center"
				Height="194"
				Width="106">
				<TextBlock
					Text="Paciente: "
					FontSize="20"
					FontWeight="Bold"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Nombre completo:"
					FontWeight="Bold" />
				<TextBlock
					Text="{Binding SelectedPacienteNombreCompleto}" />
				<TextBlock
					Text="Teléfono:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPaciente.Telefono}" />
				<TextBlock
					Text="Email:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPaciente.Email}" />
				<TextBlock
					Text="Domicilio:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPacienteDomicilioCompleto}" />
			</StackPanel>
			<!-- Buscador -->
			<ContentControl
				Grid.Column="1"
				Style="{StaticResource ContentControlLindo}"
				HorizontalContentAlignment="Center"
				VerticalContentAlignment="Top"
				Margin="25,25,25,25">
				<StackPanel
					Margin="5">
					<TextBlock
						Text="Buscador de consultas"
						FontSize="20"
						FontWeight="Bold"
						HorizontalAlignment="Center"
						Margin="10,10,10,10" />
					<TextBlock
						Text="Especialidad"
						FontWeight="Bold"
						Margin="10,15,10,0"
						HorizontalAlignment="Center" />
					<ComboBox
						ItemsSource="{Binding EspecialidadesDisponiblesItemsSource}"
						DisplayMemberPath="Displayear"
						SelectedValuePath="Codigo"
						SelectedValue="{Binding SelectedEspecialidadCodigo, Mode=TwoWay}"
						Margin="10,5,10,5"
						Width="300" />
					<TextBlock
						Text="Médico (opcional)"
						FontWeight="Bold"
						Margin="10,15,10,0"
						HorizontalAlignment="Center" />
					<ComboBox
						ItemsSource="{Binding MedicosEspecialistasItemsSource}"
						DisplayMemberPath="Displayear"
						SelectedItem="{Binding SelectedMedico, Mode=TwoWay}"
						IsEnabled="{Binding ComboBoxMedicosEnabled}"
						Margin="10,5,10,5"
						Width="250" />
					<CheckBox
						Content="Filtrar por día"
						IsChecked="{Binding FiltroDiaEnabled}"
						Margin="10,15,10,0"
						HorizontalAlignment="Center"
						VerticalAlignment="Center" />
					<TextBlock
						Text="Día de la semana"
						FontWeight="Bold"
						HorizontalAlignment="Center" />
					<ComboBox
						ItemsSource="{Binding DiasSemanaItemsSource}"
						DisplayMemberPath="DiaNombre"
						SelectedItem="{Binding SelectedDiaValue, Mode=TwoWay}"
						IsEnabled="{Binding ComboBoxDiasSemanaEnabled}"
						Width="200"
						Margin="10,5,10,5" />
					<TextBlock
						Text="A partir del día:"
						FontWeight="Bold"
						Margin="0,15,0,0"
						HorizontalAlignment="Center" />
					<DatePicker
						SelectedDate="{Binding PreferedFechaValue, Mode=TwoWay}"
						Margin="10,5,10,5" />
					<Button
						Content="Buscar"
						Width="120"
						Height="30"
						Style="{StaticResource BotonRedondeado}"
						Margin="0,10,0,0"
						IsEnabled="{Binding BotonBuscarDisponibilidadEnabled}"
						Click="ButtonConsultar" />
				</StackPanel>
			</ContentControl>
			<!-- Disponibilidades -->
			<ContentControl
				Grid.Column="2"
				Style="{StaticResource ContentControlLindo}"
				Margin="25,25,25,25">
				<StackPanel>
					<TextBlock
						Text="Disponibilidades"
						FontSize="24"
						FontWeight="Bold"
						HorizontalAlignment="Center"
						Margin="0,0,0,10" />
					<ListView
						ItemsSource="{Binding DisponibilidadesItemsSource}"
						SelectedItem="{Binding SelectedDisponibilidad}"
						ScrollViewer.VerticalScrollBarVisibility="Auto"
						Height="400">
						<ListView.View>
							<GridView>
								<GridViewColumn
									Header="Fecha"
									Width="90"
									DisplayMemberBinding="{Binding Fecha}" />
								<GridViewColumn
									Header="Hora"
									Width="50"
									DisplayMemberBinding="{Binding Hora}" />
								<GridViewColumn
									Header="Día"
									Width="80"
									DisplayMemberBinding="{Binding DiaSemana.DiaNombre}" />
								<GridViewColumn
									Header="Médico"
									Width="150"
									DisplayMemberBinding="{Binding MedicoDisplayear}" />
							</GridView>
						</ListView.View>
					</ListView>
					<Button
						Content="Reservar selección"
						Width="150"
						Height="35"
						Margin="0,10,0,0"
						Style="{StaticResource BotonRedondeado}"
						IsEnabled="False"
						Click="Click_AgendarNuevoTurno" />
				</StackPanel>
			</ContentControl>
		</Grid>
		<!-- Botones de salida -->
		<StackPanel
			Grid.Row="2"
			Orientation="Horizontal"
			HorizontalAlignment="Center"
			Margin="0,25,0,0">
			<Button
				Content="Cancelar"
				Width="120"
				Height="35"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonCancelar" />
			<Button
				Content="Salir"
				Width="120"
				Height="35"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonSalir" />
		</StackPanel>
	</Grid>
</Window>
