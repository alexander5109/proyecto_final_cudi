<Window
	x:Class="Clinica.AppWPF.UsuarioRecepcionista.SecretariaFormularioTurno"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	Title="Alta de turno"
	WindowStartupLocation="CenterScreen"
	Width="1000"
	Height="650">
	<Window.Background>
		<ImageBrush
			ImageSource="pack://application:,,,/PublishedResources/images/fondoClaro2025.jpg" />
	</Window.Background>
	<Grid
		Margin="20">
		<!-- Filas: Título | Contenido | Botones inferiores -->
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="*" />
			<RowDefinition
				Height="Auto" />
		</Grid.RowDefinitions>
		<!-- Título -->
		<TextBlock
			Grid.Row="0"
			Text="Alta de turno"
			FontSize="50"
			FontFamily="Ringbearer"
			FontWeight="Bold"
			HorizontalAlignment="Center"
			Margin="0,0,0,20" />
		<!-- Contenido principal -->
		<Grid
			Grid.Row="1">
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="Auto" />
				<!-- Info paciente -->
				<ColumnDefinition
					Width="Auto" />
				<!-- Buscador -->
				<ColumnDefinition
					Width="*" />
				<!-- Disponibilidades + Informe -->
			</Grid.ColumnDefinitions>
			<!-- Info paciente -->
			<StackPanel
				Grid.Column="0"
				Margin="0,0,20,0"
				Width="180">
				<TextBlock
					Text="Paciente:"
					FontSize="20"
					FontWeight="Bold"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Nombre completo:"
					FontWeight="Bold" />
				<TextBlock
					Text="{Binding SelectedPacienteNombreCompleto}" />
				<TextBlock
					Text="Teléfono:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPaciente.Telefono}" />
				<TextBlock
					Text="Email:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPaciente.Email}" />
				<TextBlock
					Text="Domicilio:"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBlock
					Text="{Binding SelectedPacienteDomicilioCompleto}" />
			</StackPanel>
			<!-- Buscador -->
			<ContentControl
				Grid.Column="1"
				Style="{StaticResource ContentControlLindo}"
				Margin="0,0,20,0">
				<StackPanel
					Margin="10">
					<TextBlock
						Text="Buscador de consultas"
						FontSize="20"
						FontWeight="Bold"
						HorizontalAlignment="Center"
						Margin="0,0,0,15" />
					<TextBlock
						Text="Especialidad"
						FontWeight="Bold"
						Margin="0,5,0,0" />
					<ComboBox
						ItemsSource="{Binding EspecialidadesDisponiblesItemsSource}"
						DisplayMemberPath="NombreEspecialidad"
						SelectedItem="{Binding SelectedEspecialidad, Mode=TwoWay}"
						Width="250"
						Margin="0,5,0,5" />
					<TextBlock
						Text="Médico (opcional)"
						FontWeight="Bold"
						Margin="0,10,0,0" />
					<ComboBox
						ItemsSource="{Binding MedicosEspecialistasItemsSource}"
						DisplayMemberPath="Displayear"
						SelectedItem="{Binding SelectedMedico, Mode=TwoWay}"
						IsEnabled="{Binding ComboBoxMedicosEnabled}"
						Width="250"
						Margin="0,5,0,5" />
					<CheckBox
						Content="Filtrar por día"
						IsChecked="{Binding FiltroDiaEnabled}"
						Margin="0,10,0,0" />
					<TextBlock
						Text="Día de la semana"
						FontWeight="Bold"
						Margin="0,5,0,0" />
					<ComboBox
						ItemsSource="{Binding DiasSemanaItemsSource}"
						DisplayMemberPath="DiaNombre"
						SelectedItem="{Binding SelectedDiaValue, Mode=TwoWay}"
						IsEnabled="{Binding ComboBoxDiasSemanaEnabled}"
						Width="200"
						Margin="0,5,0,5" />
					<TextBlock
						Text="A partir del día:"
						FontWeight="Bold"
						Margin="0,10,0,0" />
					<DatePicker
						SelectedDate="{Binding PreferedFechaValue, Mode=TwoWay}"
						Margin="0,5,0,5" />
					<Button
						Content="Buscar"
						Width="120"
						Height="30"
						Style="{StaticResource BotonRedondeado}"
						IsEnabled="{Binding BotonBuscarDisponibilidadEnabled}"
						Click="ButtonConsultar"
						Margin="0,10,0,0" />
				</StackPanel>
			</ContentControl>
			<!-- Disponibilidades + Informe -->
			<Grid
				Grid.Column="2">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="2*" />
					<!-- ListView -->
					<RowDefinition
						Height="*" />
					<!-- Informe + botón -->
				</Grid.RowDefinitions>
				<!-- ListView de disponibilidades -->
				<ListView
					Grid.Row="0"
					ItemsSource="{Binding DisponibilidadesItemsSource}"
					SelectedItem="{Binding SelectedDisponibilidad}"
					ScrollViewer.VerticalScrollBarVisibility="Auto"
					Margin="0,0,0,10">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="Fecha"
								Width="90"
								DisplayMemberBinding="{Binding Fecha}" />
							<GridViewColumn
								Header="Hora"
								Width="50"
								DisplayMemberBinding="{Binding Hora}" />
							<GridViewColumn
								Header="Día"
								Width="80"
								DisplayMemberBinding="{Binding DiaSemana.DiaNombre}" />
							<GridViewColumn
								Header="Médico"
								Width="150"
								DisplayMemberBinding="{Binding MedicoDisplayear}" />
						</GridView>
					</ListView.View>
				</ListView>
				<!-- Informe dinámico + botón -->
				<StackPanel
					Grid.Row="1"
					Orientation="Vertical"
					Margin="0,5,0,0">
					<TextBlock
						Text="Informe dinámico"
						FontSize="20"
						FontWeight="Bold"
						HorizontalAlignment="Center"
						Margin="0,0,0,10" />
					<TextBox
						Text="{Binding InformeReservaDeTurno, Mode=OneWay}"
						IsReadOnly="True"
						TextWrapping="Wrap"
						Height="60"
						Margin="0,0,0,5" />
					<Button
						Content="Agendar turno"
						Width="150"
						Height="35"
						Style="{StaticResource BotonRedondeado}"
						IsEnabled="{Binding AgendarTurnoEnabled}"
						Click="Click_AgendarNuevoTurno"
						HorizontalAlignment="Left" />
				</StackPanel>
			</Grid>
		</Grid>
		<!-- Botones de salida -->
		<StackPanel
			Grid.Row="2"
			Orientation="Horizontal"
			HorizontalAlignment="Center"
			Margin="0,20,0,0">
			<Button
				Content="Cancelar"
				Width="120"
				Height="35"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonCancelar"
				Margin="10,0" />
			<Button
				Content="Salir"
				Width="120"
				Height="35"
				Style="{StaticResource BotonRedondeado}"
				Click="ButtonSalir"
				Margin="10,0" />
		</StackPanel>
	</Grid>
</Window>
