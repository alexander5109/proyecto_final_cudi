<Window
	x:Class="Clinica.AppWPF.UsuarioMedico.MedicoAtencionDelDia"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	Title="Clinica Medica - Home"
	Width="1024"
	Height="600"
	WindowStartupLocation="CenterScreen">
	<Window.Background>
		<ImageBrush
			ImageSource="/PublishedResources/images2025sol/fondoCeleste2024medico.jpg" />
	</Window.Background>
	<!-- ===================== LAYOUT GENERAL ===================== -->
	<Grid
		Margin="25">
		<Grid.ColumnDefinitions>
			<ColumnDefinition
				Width="*" />
			<!-- Columna izquierda: turnos + botón -->
			<ColumnDefinition
				Width="*" />
			<!-- Columna derecha: paciente + historial + diagnóstico -->
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<!-- Título superior -->
			<RowDefinition
				Height="*" />
			<!-- Contenido principal -->
		</Grid.RowDefinitions>
		<!-- ===================== TITULO ===================== -->
		<Label
			Grid.Row="0"
			Grid.ColumnSpan="2"
			Content="Atención del día"
			FontSize="25"
			Style="{StaticResource LabelLindoConPiu}"
			HorizontalContentAlignment="Center"
			FontWeight="Bold"
			VerticalContentAlignment="Center" />
		<!-- ===================== COLUMNA IZQUIERDA ===================== -->
		<Grid
			Grid.Row="1"
			Grid.Column="0"
			Margin="10">
			<Grid.RowDefinitions>
				<RowDefinition
					Height="Auto" />
				<!-- Turnos label + datepicker -->
				<RowDefinition
					Height="*" />
				<!-- ListView de turnos -->
				<RowDefinition
					Height="Auto" />
				<!-- Botones Home/Salir -->
			</Grid.RowDefinitions>
			<!-- Turnos -->
			<StackPanel
				Grid.Row="0"
				HorizontalAlignment="Center">
				<StackPanel
					Orientation="Horizontal">
					<Button
						Click="ClickBoton_Refrescar"
						Grid.Row="1"
						Style="{StaticResource BotonRefrescar}"></Button>
					<Label
						Content="Turnos de hoy"
						FontSize="25"
						Style="{StaticResource LabelLindoConTextoSombra}"
						HorizontalAlignment="Center"
						FontWeight="Bold" />
				</StackPanel>
				<DatePicker
					SelectedDate="{Binding SelectedFecha, Mode=TwoWay}"
					SelectedDateFormat="Short"
					Text="{Binding SelectedFecha, StringFormat=dd/MM/yyyy}"
					Margin="0,5,0,5"
					HorizontalAlignment="Center"
					Width="200" />
			</StackPanel>
			<!-- ListView de turnos -->
			<ListView
				Grid.Row="1"
				ItemsSource="{Binding TurnosList}"
				SelectedItem="{Binding SelectedTurno}"
				Margin="10"
				ScrollViewer.VerticalScrollBarVisibility="Auto">
				<ListView.View>
					<GridView>
						<GridViewColumn
							Header="Hora"
							Width="auto"
							DisplayMemberBinding="{Binding Model.FechaHoraAsignadaDesde}" />
						<GridViewColumn
							Header="Paciente"
							Width="auto"
							DisplayMemberBinding="{Binding PacienteNombreApellido}" />
						<GridViewColumn
							Header="Edad"
							Width="auto"
							DisplayMemberBinding="{Binding PacienteEdad}" />
						<GridViewColumn
							Header="SePresesntó"
							Width="auto"
							DisplayMemberBinding="{Binding EsperandoAtencion}" />
						<GridViewColumn
							Header="Estado"
							Width="auto"
							DisplayMemberBinding="{Binding Model.OutcomeEstado}" />
						<GridViewColumn
							Header="FueDiagnosticado"
							Width="auto"
							DisplayMemberBinding="{Binding FueAtendido}" />
					</GridView>
				</ListView.View>
			</ListView>
			<!-- Botonera -->
			<StackPanel
				Grid.Row="2"
				Orientation="Vertical"
				Margin="0,10,0,0">
				<Button
					Content="Home"
					Width="170"
					Height="37"
					Margin="0,0,0,10"
					Click="ClickBoton_Home"
					FontSize="20"
					Style="{StaticResource BotonRedondeadoCeleste}" />
				<Button
					Content="Salir"
					Width="170"
					Height="37"
					Click="ClickBoton_Salir"
					FontSize="20"
					Style="{StaticResource BotonRedondeadoCeleste}" />
			</StackPanel>
		</Grid>
		<!-- ===================== COLUMNA DERECHA ===================== -->
		<Grid
			Grid.Row="1"
			Grid.Column="1"
			Margin="10">
			<Grid.RowDefinitions>
				<RowDefinition
					Height="Auto" />
				<!-- Paciente seleccionado -->
				<RowDefinition
					Height="3*" />
				<!-- Historial -->
				<RowDefinition
					Height="2*" />
				<!-- Diagnóstico -->
			</Grid.RowDefinitions>
			<!-- Paciente seleccionado -->
			<Label
				Grid.Row="0"
				Content="Paciente seleccionado"
				FontSize="25"
				Style="{StaticResource LabelLindoConTextoSombra}"
				HorizontalAlignment="Center"
				FontWeight="Bold"
				Margin="0,0,0,10" />
			<!-- Historial de consultas -->
			<Grid
				Grid.Row="1">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="*" />
				</Grid.RowDefinitions>
				<Label
					Grid.Row="0"
					Content="Historial de consultas en su especialidad"
					FontSize="20"
					Style="{StaticResource LabelLindoConTextoSombra}"
					HorizontalAlignment="Center"
					FontWeight="Bold"
					Margin="0,0,0,5" />
				<ListView
					Grid.Row="1"
					ItemsSource="{Binding AtencionesViewModelList}"
					ScrollViewer.VerticalScrollBarVisibility="Auto"
					Margin="10,0,10,0">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="Fecha"
								Width="66"
								DisplayMemberBinding="{Binding Fecha}" />
							<GridViewColumn
								Header="Medico"
								Width="144"
								DisplayMemberBinding="{Binding MedicoNombreApellido}" />
							<GridViewColumn
								Header="Observaciones"
								Width="222"
								DisplayMemberBinding="{Binding Observaciones}" />
						</GridView>
					</ListView.View>
				</ListView>
			</Grid>
			<!-- Diagnóstico -->
			<Grid
				Grid.Row="2"
				Margin="0,10,0,0">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="*" />
					<!-- TextBox ocupa todo el espacio -->
					<RowDefinition
						Height="Auto" />
					<!-- Botón confirmar -->
				</Grid.RowDefinitions>
				<Label
					Grid.Row="0"
					Content="Observación y diagnóstico"
					FontSize="20"
					Style="{StaticResource LabelLindoConTextoSombra}"
					HorizontalAlignment="Center"
					FontWeight="Bold"
					Margin="0,0,0,5" />
				<TextBox
					Grid.Row="1"
					Text="{Binding Observaciones, Mode=TwoWay}"
					AcceptsReturn="True"
					TextWrapping="Wrap"
					IsEnabled="{Binding PuedeDiagnosticarYConfirmar}"
					VerticalScrollBarVisibility="Auto"
					HorizontalAlignment="Stretch"
					VerticalAlignment="Stretch"
					Margin="10,0,10,0" />
				<Button
					Grid.Row="2"
					Content="✏ Confirmar"
					Width="144"
					Height="35"
					IsEnabled="{Binding PuedeDiagnosticarYConfirmar}"
					Click="ClickBoton_ConfirmarObservacion"
					Style="{StaticResource BotonRedondeadoCeleste}"
					HorizontalAlignment="Center"
					Margin="0,10,0,0" />
			</Grid>
		</Grid>
	</Grid>
</Window>
