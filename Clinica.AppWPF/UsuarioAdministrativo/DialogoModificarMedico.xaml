<Window
	x:Class="Clinica.AppWPF.UsuarioAdministrativo.DialogoModificarMedico"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	Title="Clinica Medica - Médicos Modificar"
	xmlns:local="clr-namespace:Clinica.AppWPF.UsuarioAdministrativo"
	Height="700"
	Width="855"
	WindowStartupLocation="CenterScreen">
	<Window.Background>
		<ImageBrush
			ImageSource="pack://application:,,,/PublishedResources/images2025sol/fondoClaro2025.jpg" />
	</Window.Background>
	<Grid
		Margin="30,30,30,44">
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="Auto"
				MinHeight="434.64" />
			<RowDefinition
				Height="Auto"
				MinHeight="133" />
			<RowDefinition
				Height="104*" />
			<RowDefinition
				Height="31*" />
		</Grid.RowDefinitions>
		<!-- Título -->
		<Label
			Content="Médico"
			FontSize="40"
			FontFamily="Bahnschrift"
			HorizontalAlignment="Left"
			VerticalAlignment="Center"
			Height="53"
			Width="205"
			Style="{StaticResource LabelLindo}"
			FlowDirection="RightToLeft"
			HorizontalContentAlignment="Right"></Label>
		<!-- Formulario principal -->
		<Grid
			Grid.Row="1"
			Margin="0,9,0,25">
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="200" />
				<!-- Columna Labels -->
				<ColumnDefinition
					Width="250" />
				<!-- Columna Inputs -->
				<ColumnDefinition
					Width="*" />
				<!-- Columna Agenda -->
			</Grid.ColumnDefinitions>
			<!-- Definir filas para los campos -->
			<Grid.RowDefinitions>
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
			</Grid.RowDefinitions>
			<!-- Labels + Inputs -->
			<Label
				Content="Nombre"
				Grid.Row="0"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="0"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Nombre, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Apellido"
				Grid.Row="1"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="1"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Apellido, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="DNI"
				Grid.Row="2"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="2"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Dni, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Teléfono"
				Grid.Row="3"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="3"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Telefono, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Provincia"
				Grid.Row="4"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="4"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Provincia, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Domicilio"
				Grid.Row="5"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="5"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Domicilio, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Localidad"
				Grid.Row="6"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<TextBox
				Grid.Row="6"
				Grid.Column="1"
				Margin="5"
				Style="{StaticResource TextBoxLindo2}"
				Text="{Binding Localidad, UpdateSourceTrigger=PropertyChanged}" />

			<Label
				Content="Especialidad"
				Grid.Row="7"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<ComboBox
				Grid.Row="7"
				Grid.Column="1"
				Width="234"
				Height="27"
				ItemsSource="{Binding EspecialidadesDisponibles}"
				SelectedItem="{Binding Especialidad, Mode=TwoWay}" />

			<Label
				Content="Fecha de Ingreso"
				Grid.Row="9"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<DatePicker
				Grid.Row="9"
				Grid.Column="1"
				Margin="5"
				SelectedDate="{Binding FechaIngreso, Mode=TwoWay}" />

			<Label
				Content="Realiza Guardia"
				Grid.Row="10"
				Grid.Column="0"
				VerticalAlignment="Center" />
			<CheckBox
				Grid.Row="10"
				Grid.Column="1"
				Margin="5"
				IsChecked="{Binding HaceGuardias, Mode=TwoWay}" />
			<!-- Agenda -->
			<StackPanel
				Grid.Row="0"
				Grid.Column="2"
				Grid.RowSpan="11"
				Margin="20,0,0,0">
				<Label
					Content="Horarios de atención"
					FontWeight="Bold"
					HorizontalAlignment="Center"
					Margin="0,0,0,5"
					Style="{StaticResource LabelLindo}"
					Height="48"
					Width="270"
					FontSize="25"></Label>
				<TreeView
					ItemsSource="{Binding HorariosAgrupados}"
					Height="270"
					Margin="0,10,0,0">
					<TreeView.Resources>
						<HierarchicalDataTemplate
							DataType="{x:Type local:ViewModelHorarioAgrupado}"
							ItemsSource="{Binding Horarios}">
							<TextBlock
								Text="{Binding DiaSemanaNombre}"
								FontWeight="Bold" />
						</HierarchicalDataTemplate>
						<DataTemplate
							DataType="{x:Type local:HorarioMedicoViewModel}">
							<StackPanel
								Orientation="Horizontal"
								Margin="15,0,0,0">
								<TextBlock
									Text="{Binding Desde}"
									Width="50" />
								<TextBlock
									Text=" - " />
								<TextBlock
									Text="{Binding Hasta}"
									Width="50" />
							</StackPanel>
						</DataTemplate>
					</TreeView.Resources>
				</TreeView>
				<StackPanel
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					Margin="0,10,0,0">
					<Button
						x:Name="btnEditarHorario"
						Content="✏️ Editar selección"
						Margin="5" />
					<Button
						x:Name="btnEliminarHorario"
						Content="🗑 Eliminar selección"
						Margin="5" />
				</StackPanel>
				<StackPanel
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					Margin="0,10,0,0">
					<Button
						x:Name="btnAgregarDiaFranja"
						Content="➕ Agregar horario"
						Margin="5" />
				</StackPanel>
			</StackPanel>
			<!-- Agenda END -->
		</Grid>
		<!-- Botones inferiores -->
		<StackPanel
			Grid.Row="2"
			Orientation="Horizontal"
			HorizontalAlignment="Center"
			VerticalAlignment="Center"
			Height="40"
			Width="590">
			<Button
				Content="Guardar cambios"
				Width="190"
				Height="40"
				Style="{StaticResource BotonRedondeado}" />
			<Button
				Content="Eliminar médico"
				Width="190"
				Height="40"
				Margin="0,0,10,0"
				Style="{StaticResource BotonRedondeado}" />
			<Button
				Content="Volver"
				Width="190"
				Height="40"
				Style="{StaticResource BotonRedondeado}" />
		</StackPanel>
	</Grid>
</Window>
