<Window
	x:Class="Clinica.AppWPF.UsuarioSecretaria.SecretariaGestionDeTurnos"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	Title="Clinica Medica – Gestión Integral"
	WindowStartupLocation="CenterScreen"
	Icon="pack://application:,,,/PublishedResources/icons/icono.png"
	WindowStyle="ThreeDBorderWindow"
	Margin="25,25,25,25"
	Height="990.2">
	<Window.Background>
		<ImageBrush
			ImageSource="pack://application:,,,/PublishedResources/images/falopa.jpg" />
	</Window.Background>
	<!-- ===================== LAYOUT GENERAL ===================== -->
	<StackPanel
		Orientation="Vertical"
		HorizontalAlignment="Center"
		VerticalAlignment="Center">
		<Label
			Style="{StaticResource LabelLindo}"
			Content="Gestión de Turnos"
			FontSize="60"
			FontFamily="Ringbearer"
			FontWeight="Bold"
			Height="91" />
		<StackPanel
			Orientation="Horizontal">
			<ContentControl
				Style="{StaticResource ContentControlLindo}">
				<ScrollViewer
					VerticalScrollBarVisibility="Auto"
					HorizontalAlignment="Center"
					VerticalAlignment="Center">
					<StackPanel
						Margin="10">
						<Label
							Margin="10"
							Content="Buscar turnos"
							FontSize="25"
							FontFamily="Ringbearer"
							FontWeight="Bold"
							HorizontalAlignment="Center" />
						<Grid
							Margin="10">
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									MinWidth="160" />
								<ColumnDefinition
									MinWidth="160" />
								<ColumnDefinition
									MinWidth="160" />
							</Grid.ColumnDefinitions>
						</Grid>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									MinWidth="160" />
								<ColumnDefinition
									MinWidth="160" />
								<ColumnDefinition
									MinWidth="160" />
							</Grid.ColumnDefinitions>
							<StackPanel
								Grid.Column="0"
								Margin="5">
								<Label
									Content="Filtrar por paciente:"
									Margin="5"
									FontFamily="Palatino Linotype"
									FontWeight="Bold" />
								<TextBox
									Margin="5"
									Text="{Binding FiltroTurnosPaciente, UpdateSourceTrigger=PropertyChanged}" />
							</StackPanel>
							<StackPanel
								Grid.Column="1"
								Margin="5"
								Height="68"
								Width="150">
								<Label
									Content="Filtrar por Estado:"
									FontFamily="Palatino Linotype"
									Margin="5"
									FontWeight="Bold" />
								<ComboBox
									ItemsSource="{Binding Estados}"
									Margin="5"
									SelectedItem="{Binding EstadoSeleccionado}" />
							</StackPanel>
							<StackPanel
								Grid.Column="2"
								Margin="5">
								<Label
									Content="Filtrar por Médico:"
									Margin="5"
									FontFamily="Palatino Linotype"
									FontWeight="Bold" />
								<TextBox
									Margin="5"
									Text="{Binding FiltroTurnosMedico, UpdateSourceTrigger=PropertyChanged}" />
							</StackPanel>
						</Grid>
						<ListView
							ItemsSource="{Binding TurnosList}"
							SelectedItem="{Binding SelectedTurno}"
							Margin="10"
							ScrollViewer.HorizontalScrollBarVisibility="Auto"
							ScrollViewer.VerticalScrollBarVisibility="Auto"
							MinWidth="467"
							MaxWidth="600"
							Height="24.1">
							<ListView.View>
								<GridView>
									<GridViewColumn
										Header="Estado"
										Width="auto"
										DisplayMemberBinding="{Binding OutcomeEstado}" />
									<GridViewColumn
										Header="Fecha"
										Width="auto">
										<GridViewColumn.CellTemplate>
											<DataTemplate>
												<TextBlock
													Text="{Binding FechaAsignada, StringFormat=\{0:dd/MM/yyyy\}}" />
											</DataTemplate>
										</GridViewColumn.CellTemplate>
									</GridViewColumn>
									<GridViewColumn
										Header="Especialidad"
										Width="auto"
										DisplayMemberBinding="{Binding EspecialidadCodigo}" />
									<GridViewColumn
										Header="Hora"
										Width="auto">
										<GridViewColumn.CellTemplate>
											<DataTemplate>
												<TextBlock
													Text="{Binding HoraAsignada, StringFormat=\{0:hh\\:mm\}}" />
											</DataTemplate>
										</GridViewColumn.CellTemplate>
									</GridViewColumn>
									<GridViewColumn
										Header="Paciente"
										Width="auto"
										DisplayMemberBinding="{Binding PacienteDisplayear}" />
									<GridViewColumn
										Header="Médico"
										Width="auto"
										DisplayMemberBinding="{Binding MedicoDisplayear}" />
								</GridView>
							</ListView.View>
						</ListView>
					</StackPanel>
				</ScrollViewer>
			</ContentControl>
			<!-- ===================== PANEL 2 - ESTADO DEL TURNO ===================== -->
			<ContentControl
				Style="{StaticResource ContentControlLindo}"
				HorizontalAlignment="Center"
				VerticalAlignment="Center">
				<StackPanel
					Margin="10"
					Width="250"
					HorizontalAlignment="Center">
					<Label
						Content="Estado del turno:"
						FontFamily="Ringbearer"
						FontSize="25"
						FontWeight="Bold"
						HorizontalAlignment="Center"
						Width="246.713333333333" />
					<Label
						Content="{Binding SelectedTurno.OutcomeEstado}"
						FontSize="14"
						FontFamily="Palatino Linotype"
						FontWeight="Bold"
						HorizontalAlignment="Center" />
					<Label
						Content="Comentario:"
						FontFamily="Palatino Linotype"
						FontWeight="Bold" />
					<TextBox
						x:Name="comentarioTextBox"
						Text="{Binding SelectedTurno.OutcomeComentario}"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
						Height="70"
						TextWrapping="Wrap" />
					<Label
						Content="Fecha de conclusión:"
						FontFamily="Palatino Linotype"
						FontWeight="Bold"
						Margin="0,10,0,0" />
					<DatePicker
						SelectedDate="{Binding SelectedTurno.OutcomeFecha}"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}" />
					<StackPanel
						Margin="10,15"
						HorizontalAlignment="Center">
						<Button
							Content="Confirmar asistencia"
							Width="180"
							Height="30"
							IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
							Style="{StaticResource BotonRedondeado}"
							Click="Button_ConfirmarTurnoAsistencia" />
						<Button
							Content="Marcar Ausente"
							Width="180"
							Height="30"
							Margin="0,5,0,0"
							IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
							Style="{StaticResource BotonRedondeado}"
							Click="Button_MarcarTurnoAusente" />
						<Button
							Content="Reprogramar Turno"
							Width="180"
							Height="30"
							Margin="0,5,0,0"
							IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
							Style="{StaticResource BotonRedondeado}"
							Click="Button_ReprogramarTurno" />
						<Button
							Content="Cancelar Turno"
							Width="180"
							Height="30"
							Margin="0,5,0,0"
							IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
							Style="{StaticResource BotonRedondeado}"
							Click="Button_CancelarTurno" />
					</StackPanel>
				</StackPanel>
			</ContentControl>
		</StackPanel>
		<!-- ===================== BOTONES INFERIORES ===================== -->
		<StackPanel
			Orientation="Horizontal">
			<Button
				Content="Home"
				Width="170"
				Height="37"
				Margin="10"
				Click="ButtonHome"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}" />
			<Button
				Content="Salir"
				Width="170"
				Height="37"
				Margin="10"
				Click="ButtonSalir"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}"
				HorizontalAlignment="Center" />
		</StackPanel>
	</StackPanel>
</Window>
