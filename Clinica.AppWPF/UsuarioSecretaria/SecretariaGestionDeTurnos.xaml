<Window
	x:Class="Clinica.AppWPF.UsuarioSecretaria.SecretariaGestionDeTurnos"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	Title="Clinica Medica – Gestión Integral"
	WindowStartupLocation="CenterScreen"
	Icon="pack://application:,,,/PublishedResources/icons/icono.png"
	Width="1306.3">
	<Window.Background>
		<ImageBrush
			ImageSource="pack://application:,,,/PublishedResources/images/otroFondo.png" />
	</Window.Background>
	<Grid
		Margin="25"
		HorizontalAlignment="Center"
		VerticalAlignment="Center">
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="auto" />
			<RowDefinition
				Height="auto" />
			<RowDefinition
				Height="Auto" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition />
			<ColumnDefinition />
			<ColumnDefinition />
		</Grid.ColumnDefinitions>
		<Label
			Grid.Row="0"
			Grid.Column="0"
			Grid.ColumnSpan="3"
			Margin="10"
			Content="Gestión de Turnos"
			FontSize="60"
			FontFamily="Ringbearer"
			FontWeight="Bold"
			HorizontalAlignment="Center"
			VerticalAlignment="Center" />
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			Grid.Row="1"
			HorizontalAlignment="Center"
			VerticalAlignment="Center"
			HorizontalContentAlignment="Center"
			VerticalContentAlignment="Center"
			Width="459"
			Margin="25,25,25,25">
			<StackPanel
				Orientation="Vertical"
				Margin="5,5,5,5"
				VerticalAlignment="Center"
				HorizontalAlignment="Center">
				<Label
					Content="Buscar turnos"
					FontSize="25"
					FontFamily="Ringbearer"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<StackPanel
					Margin="10"
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					VerticalAlignment="Center">
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por fecha:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<DatePicker
							SelectedDate="{Binding FiltroFecha}" />
					</StackPanel>
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por Estado:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<ComboBox
							ItemsSource="{Binding Estados}"
							SelectedItem="{Binding EstadoSeleccionado}" />
					</StackPanel>
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por Especialidad:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<ComboBox
							ItemsSource="{Binding Especialidades}"
							SelectedItem="{Binding EspecialidadSeleccionada}" />
					</StackPanel>
				</StackPanel>
				<StackPanel
					Margin="10"
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					VerticalAlignment="Center">
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por paciente:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							Text="{Binding FiltroTurnosPaciente, UpdateSourceTrigger=PropertyChanged}" />
					</StackPanel>
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por Dia Semana:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<ComboBox
							ItemsSource="{Binding DiasSemana}"
							SelectedItem="{Binding DiaSemanaSeleccionado}" />
					</StackPanel>
					<StackPanel
						Margin="5"
						Width="120">
						<Label
							Content="Filtrar por Medico:"
							Margin="0,5,0,3"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							Text="{Binding FiltroTurnosMedico, UpdateSourceTrigger=PropertyChanged}" />
					</StackPanel>
				</StackPanel>
				<ListView
					x:Name="turnosListView"
					ItemsSource="{Binding TurnosList}"
					SelectedItem="{Binding SelectedTurno}"
					Height="130"
					Width="auto"
					VerticalAlignment="Center"
					HorizontalContentAlignment="Center"
					ScrollViewer.CanContentScroll="True"
					ScrollViewer.HorizontalScrollBarVisibility="Auto"
					ScrollViewer.VerticalScrollBarVisibility="Auto"
					Margin="5,5,5,5">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="OutcomeEstado"
								Width="35"
								DisplayMemberBinding="{Binding OutcomeEstado}" />
							<GridViewColumn
								Header="FechaAsignada"
								Width="70">
								<GridViewColumn.CellTemplate>
									<DataTemplate>
										<TextBlock
											Text="{Binding FechaAsignada, StringFormat={}{0:dd/MM/yyyy}}" />
									</DataTemplate>
								</GridViewColumn.CellTemplate>
							</GridViewColumn>
							<GridViewColumn
								Header="HoraAsignada"
								Width="50">
								<GridViewColumn.CellTemplate>
									<DataTemplate>
										<TextBlock
											Text="{Binding HoraAsignada, StringFormat={}{0:hh\\:mm}}" />
									</DataTemplate>
								</GridViewColumn.CellTemplate>
							</GridViewColumn>
							<GridViewColumn
								Header="Paciente"
								Width="120"
								DisplayMemberBinding="{Binding PacienteDisplayear}" />
							<GridViewColumn
								Header="PacienteDNI"
								Width="60"
								DisplayMemberBinding="{Binding PacienteDni}" />
							<GridViewColumn
								Header="Medico"
								Width="120"
								DisplayMemberBinding="{Binding MedicoDisplayear}" />
							<GridViewColumn
								Header="Especialidad"
								Width="80"
								DisplayMemberBinding="{Binding EspecialidadCodigo}" />
						</GridView>
					</ListView.View>
				</ListView>
			</StackPanel>
		</ContentControl>
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			HorizontalAlignment="Center"
			VerticalAlignment="Center"
			Grid.Row="1"
			Grid.Column="1"
			Grid.RowSpan="1"
			Margin="25,25,25,25">
			<StackPanel
				Margin="5"
				HorizontalAlignment="Center"
				VerticalAlignment="Center">
				<Label
					Content="Estado de turno:"
					FontFamily="Ringbearer"
					FontSize="25"
					FontWeight="Bold"
					Margin="0,10,0,10"
					HorizontalAlignment="Center" />
				<Label
					Content="{Binding SelectedTurno.OutcomeEstado}"
					FontFamily="SachaWynterTight Linotype"
					FontSize="10"
					Height="30"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<!-- ESTADO DEL TURNO -->
				<Label
					Content="Comentario:"
					FontFamily="Palatino Linotype"
					FontWeight="Bold"
					Margin="0,0,0,0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center" />
				<TextBox
					x:Name="comentarioTextBox"
					TextWrapping="Wrap"
					Text="{Binding SelectedTurno.OutcomeComentario}"
					IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
					Height="60"
					Width="210" />
				<Label
					Content="Fecha de conclusion:"
					FontFamily="Palatino Linotype"
					FontWeight="Bold"
					Margin="0,10,0,0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center" />
				<DatePicker
					SelectedDate="{Binding SelectedTurno.OutcomeFecha}"
					IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
					Margin="0,0,0,10"
					HorizontalAlignment="Center" />
				<StackPanel
					Margin="5">
					<Button
						Content="Confirmar asistencia"
						Command="{Binding PostConfirmarAsistencia}"
						Style="{StaticResource BotonRedondeado}"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
						Width="150"
						FontSize="17"
						FontFamily="Baskerville Old Face"
						FontWeight="DemiBold"
						Height="30"
						Click="Button_ConfirmarTurnoAsistencia" />
					<Button
						Content="Marcar Ausente"
						Command="{Binding PostMarcarAusente}"
						Style="{StaticResource BotonRedondeado}"
						Width="120"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
						FontSize="17"
						FontFamily="Baskerville Old Face"
						FontWeight="DemiBold"
						Click="Button_MarcarTurnoAusente"
						Height="30" />
					<Button
						Content="Reprogramar Turno"
						Command="{Binding PostReprogramarTurno}"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
						Style="{StaticResource BotonRedondeado}"
						Width="150"
						FontSize="17"
						FontFamily="Baskerville Old Face"
						FontWeight="DemiBold"
						Click="Button_ReprogramarTurno"
						Height="30" />
					<Button
						Content="Cancelar Turno"
						Command="{Binding PostCancelarTurno}"
						IsEnabled="{Binding PuedeModificarTurnoSeleccionado}"
						Style="{StaticResource BotonRedondeado}"
						Width="120"
						FontSize="17"
						FontFamily="Baskerville Old Face"
						FontWeight="DemiBold"
						Click="Button_CancelarTurno"
						Height="30" />
				</StackPanel>
			</StackPanel>
		</ContentControl>
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			Grid.Row="1"
			Grid.Column="2"
			HorizontalAlignment="Center"
			VerticalAlignment="Center"
			Margin="25,25,25,25">
			<StackPanel
				Margin="5"
				HorizontalAlignment="Center"
				VerticalAlignment="Center">
				<Label
					Content="Buscar paciente"
					FontFamily="Ringbearer"
					FontSize="25"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<!-- FILTROS -->
				<StackPanel
					Orientation="Vertical"
					Margin="5">
					<StackPanel />
					<StackPanel>
						<Label
							Content="Filtrar por Nombre, Apellido o Dni:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							Text="{Binding FiltroPacientesTexto, UpdateSourceTrigger=PropertyChanged}" />
					</StackPanel>
					<!-- <StackPanel>
						<Label
							Content="Filtrar por Email:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="txtFilterEmail"
							TextChanged="FilterTextChanged" />
					</StackPanel>
					<StackPanel>
						<Label
							Content="Filtrar por Telefono:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="txtFilterTelefono"
							TextChanged="FilterTextChanged" />
					</StackPanel> -->
				</StackPanel>
				<!-- LISTA DE PACIENTES -->
				<ListView
					ItemsSource="{Binding PacientesList}"
					SelectedItem="{Binding SelectedPaciente}"
					Margin="0,10"
					Height="115"
					ScrollViewer.HorizontalScrollBarVisibility="Auto"
					ScrollViewer.VerticalScrollBarVisibility="Auto">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="Nombre"
								DisplayMemberBinding="{Binding Nombre}"
								Width="65" />
							<GridViewColumn
								Header="Apellido"
								DisplayMemberBinding="{Binding Apellido}"
								Width="65" />
							<GridViewColumn
								Header="Dni"
								DisplayMemberBinding="{Binding Dni}"
								Width="80" />
						</GridView>
					</ListView.View>
				</ListView>
				<!-- BOTONES PACIENTE -->
				<StackPanel
					Margin="5"
					Height="auto"
					Width="auto"
					HorizontalAlignment="Center"
					VerticalAlignment="Center">
					<Button
						Content="Modificar Paciente"
						Command="{Binding ModificarPacienteCommand}"
						IsEnabled="{Binding PuedeModificarPaciente}"
						Width="150"
						Margin="5"
						Height="30"
						FontSize="17"
						FontWeight="DemiBold"
						FontFamily="Baskerville Old Face"
						Style="{StaticResource BotonRedondeado}"
						Click="ButtonModificarPaciente" />
					<Button
						Content="Agregar Paciente"
						Width="164"
						Margin="5"
						FontSize="17"
						FontWeight="DemiBold"
						FontFamily="Baskerville Old Face"
						Height="30"
						Style="{StaticResource BotonRedondeado}"
						Click="ButtonAgregarPaciente" />
					<Button
						Content="Nuevo turno"
						Width="164"
						Margin="5"
						FontSize="17"
						FontWeight="DemiBold"
						FontFamily="Baskerville Old Face"
						Height="30"
						Style="{StaticResource BotonRedondeado}"
						Click="ButtonSolicitarTurno" />
				</StackPanel>
			</StackPanel>
		</ContentControl>
		<StackPanel
			Grid.Row="2"
			Grid.ColumnSpan="3"
			HorizontalAlignment="Left"
			VerticalAlignment="Center">
			<Button
				Content="Home"
				HorizontalAlignment="Left"
				VerticalAlignment="Top"
				Height="37"
				Width="170"
				Margin="15"
				Click="ButtonHome"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}"
				FontWeight="Bold"
				BorderBrush="#FF0E0D0D"
				FontFamily="Baskerville Old Face" />
			<Button
				Content="Salir"
				HorizontalAlignment="Left"
				VerticalAlignment="Top"
				Height="37"
				Width="170"
				Margin="15"
				Click="ButtonSalir"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}"
				FontWeight="Bold"
				BorderBrush="#FF0E0D0D"
				FontFamily="Baskerville Old Face" />
		</StackPanel>
	</Grid>
</Window>
