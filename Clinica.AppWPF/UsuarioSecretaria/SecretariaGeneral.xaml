<Window
	x:Class="Clinica.AppWPF.UsuarioSecretaria.SecretariaTurnosPacientes"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	Title="Clinica Medica – Gestión Integral"
	Height="900"
	Width="1400"
	WindowStartupLocation="CenterScreen"
	Icon="pack://application:,,,/PublishedResources/icons/icono.png">
	<Window.Background>
		<ImageBrush
			ImageSource="pack://application:,,,/PublishedResources/images/otroFondo.png" />
	</Window.Background>
	<Grid
		Margin="20">
		<!-- ===========================
         SECCIÓN IZQUIERDA: BUSQUEDA
         =========================== -->
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			Margin="10,10,0,163"
			HorizontalAlignment="Left"
			Width="336">
			<StackPanel
				Margin="15">
				<Label
					Content="Buscar paciente"
					FontFamily="Ringbearer"
					FontSize="30"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<!-- FILTROS -->
				<StackPanel
					Orientation="Vertical"
					Margin="5">
					<StackPanel>
						<Label
							Content="Filtrar por Dni:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="filterDni"
							TextChanged="FilterPacientes" />
					</StackPanel>
					<StackPanel>
						<Label
							Content="Filtrar por Nombre:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="filterNombre"
							TextChanged="FilterPacientes" />
					</StackPanel>
					<StackPanel>
						<Label
							Content="Filtrar por Apellido:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="filterApellido"
							TextChanged="FilterPacientes" />
					</StackPanel>
					<StackPanel>
						<Label
							Content="Filtrar por Email:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="filterEmail"
							TextChanged="FilterPacientes" />
					</StackPanel>
					<StackPanel>
						<Label
							Content="Filtrar por Telefono:"
							FontFamily="Palatino Linotype"
							FontWeight="Bold" />
						<TextBox
							x:Name="filterTelefono"
							TextChanged="FilterPacientes" />
					</StackPanel>
				</StackPanel>
				<!-- LISTA DE PACIENTES -->
				<ListView
					x:Name="pacientesListView"
					ItemsSource="{Binding PacientesList}"
					Margin="0,10"
					Height="250"
					SelectionChanged="Pacientes_SelectionChanged">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="DNI"
								DisplayMemberBinding="{Binding Dni}"
								Width="80" />
							<GridViewColumn
								Header="Nombre"
								DisplayMemberBinding="{Binding Nombre}"
								Width="100" />
							<GridViewColumn
								Header="Apellido"
								DisplayMemberBinding="{Binding Apellido}"
								Width="100" />
						</GridView>
					</ListView.View>
				</ListView>
				<!-- BOTONES PACIENTE -->
				<StackPanel
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					Margin="0,10">
					<Button
						Content="Nuevo Paciente"
						Width="122"
						Margin="5"
						FontSize="17"
						FontWeight="DemiBold"
						FontFamily="Baskerville Old Face"
						Height="35"
						Style="{StaticResource BotonRedondeado}"
						Click="NuevoPaciente_Click" />
					<Button
						Content="Modificar"
						x:Name="btnModificarPaciente"
						Width="122"
						Height="35"
						FontSize="17"
						FontWeight="DemiBold"
						FontFamily="Baskerville Old Face"
						Margin="5"
						Style="{StaticResource BotonRedondeado}"
						IsEnabled="False"
						Click="ModificarPaciente_Click" />
				</StackPanel>
			</StackPanel>
		</ContentControl>
		<!-- ===========================
         PANEL CENTRAL: TURNOS
         =========================== -->
		<StackPanel
			HorizontalAlignment="Left"
			VerticalAlignment="Top"
			Margin="550,664,0,0">
			<Button
				Content="Home"
				HorizontalAlignment="Left"
				VerticalAlignment="Top"
				Height="37"
				Width="170"
				Margin="15"
				Click="ButtonHome"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}"
				FontWeight="Bold"
				BorderBrush="#FF0E0D0D"
				FontFamily="Baskerville Old Face" />
			<Button
				Content="Salir"
				HorizontalAlignment="Left"
				VerticalAlignment="Top"
				Height="37"
				Width="170"
				Margin="15"
				Click="ButtonSalir"
				FontSize="20"
				Style="{StaticResource BotonRedondeado}"
				FontWeight="Bold"
				BorderBrush="#FF0E0D0D"
				FontFamily="Baskerville Old Face" />
		</StackPanel>
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			Margin="370,10,370,185">
			<StackPanel
				Margin="15">
				<Label
					Content="Turnos"
					FontSize="55"
					FontFamily="Ringbearer"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<Label
					Content="Filtrar por fecha:"
					Margin="0,5,0,3"
					FontFamily="Palatino Linotype"
					FontWeight="Bold" />
				<Calendar
					x:Name="calendarioTurnos"
					SelectedDatesChanged="Calendario_Changed"
					Margin="0,0,0,10" />
				<ListView
					x:Name="turnosListView"
					ItemsSource="{Binding TurnosList}"
					Height="272"
					SelectionChanged="TurnoSeleccionado">
					<ListView.View>
						<GridView>
							<GridViewColumn
								Header="Fecha"
								Width="120">
								<GridViewColumn.CellTemplate>
									<DataTemplate>
										<TextBlock
											Text="{Binding FechaAsignada, StringFormat={}{0:dd/MM/yyyy}}" />
									</DataTemplate>
								</GridViewColumn.CellTemplate>
							</GridViewColumn>
							<GridViewColumn
								Header="Hora"
								Width="60">
								<GridViewColumn.CellTemplate>
									<DataTemplate>
										<TextBlock
											Text="{Binding Hora, StringFormat={}{0:hh\\:mm}}" />
									</DataTemplate>
								</GridViewColumn.CellTemplate>
							</GridViewColumn>
							<GridViewColumn
								Header="Paciente"
								Width="120"
								DisplayMemberBinding="{Binding PacienteDisplayear}" />
							<GridViewColumn
								Header="DNI"
								Width="80"
								DisplayMemberBinding="{Binding PacienteDni}" />
							<GridViewColumn
								Header="Médico"
								Width="120"
								DisplayMemberBinding="{Binding MedicoDisplayear}" />
							<GridViewColumn
								Header="Estado"
								Width="80"
								DisplayMemberBinding="{Binding OutcomeEstado}" />
						</GridView>
					</ListView.View>
				</ListView>
			</StackPanel>
		</ContentControl>
		<!-- ===========================
         PANEL DERECHO: INFO + ACCIONES
         =========================== -->
		<ContentControl
			Style="{StaticResource ContentControlLindo}"
			HorizontalAlignment="Left"
			Margin="1023,10,0,10"
			Width="327">
			<StackPanel
				Margin="15">
				<!-- INFO DEL PACIENTE -->
				<Label
					Content="Paciente"
					FontFamily="Ringbearer"
					FontSize="44"
					FontWeight="Bold"
					HorizontalAlignment="Center" />
				<TextBlock
					Text="DNI:"
					FontWeight="Bold" />
				<TextBlock
					x:Name="txtDni"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Nombre:"
					FontWeight="Bold" />
				<TextBlock
					x:Name="txtNombre"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Apellido:"
					FontWeight="Bold" />
				<TextBlock
					x:Name="txtApellido"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Correo:"
					FontWeight="Bold" />
				<TextBlock
					x:Name="txtEmail"
					Margin="0,0,0,10" />
				<TextBlock
					Text="Teléfono:"
					FontWeight="Bold" />
				<TextBlock
					x:Name="txtTelefono"
					Margin="0,0,0,10" />
				<!-- BOTÓN NUEVO TURNO -->
				<Button
					Content="Nueva Consulta"
					Margin="10"
					FontSize="17"
					Height="35"
					FontWeight="DemiBold"
					FontFamily="Baskerville Old Face"
					Width="170"
					Style="{StaticResource BotonRedondeado}"
					Click="NuevaConsulta_Click" />
				<Separator
					Margin="0,15" />
				<!-- ESTADO DEL TURNO -->
				<Label
					Content="Estado del Turno"
					FontFamily="Palatino Linotype"
					FontWeight="Bold" />
				<ComboBox
					ItemsSource="{Binding Estados}"
					SelectedItem="{Binding EstadoSeleccionado, Mode=TwoWay}"
					Width="200" />
				<Label
					Content="Comentario:"
					FontFamily="Palatino Linotype"
					FontWeight="Bold"
					Margin="0,10,0,0" />
				<TextBox
					Text="{Binding Comentario}"
					TextWrapping="Wrap"
					Height="70"
					Width="250" />
				<Button
					Content="Guardar"
					Command="{Binding ConfirmarCommand}"
					Style="{StaticResource BotonRedondeado}"
					Width="120"
					FontSize="17"
					FontFamily="Baskerville Old Face"
					FontWeight="DemiBold"
					Height="35"
					Margin="0,10" />
			</StackPanel>
		</ContentControl>
	</Grid>
</Window>
